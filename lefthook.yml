# lefthook.yml
# Git hooks configuration for Type Puzzle project

pre-commit:
  parallel: true
  commands:
    format:
      glob: '*.{js,jsx,ts,tsx,json,md}'
      run: yarn prettier --check {staged_files}
      stage_fixed: false
      # ã‚¨ãƒ©ãƒ¼æ™‚ã®è‡ªå‹•ä¿®æ­£ã‚’æœ‰åŠ¹åŒ–
      fail_text: |
        ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¨ãƒ©ãƒ¼ãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸã€‚
        è‡ªå‹•ä¿®æ­£ã™ã‚‹ã«ã¯: yarn prettier --write {staged_files}
        ã¾ãŸã¯: ./scripts/auto-fix.sh
        
        ğŸ¤– Code Reviewerã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§è‡ªå‹•ä¿®æ­£:
        claude "/code-reviewer"

    lint:
      glob: '*.{js,jsx,ts,tsx}'
      exclude: '*.test.{ts,tsx}|*.spec.{ts,tsx}'
      run: yarn eslint {staged_files}
      stage_fixed: false
      fail_text: |
        ãƒªãƒ³ãƒˆã‚¨ãƒ©ãƒ¼ãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸã€‚
        è‡ªå‹•ä¿®æ­£ã™ã‚‹ã«ã¯: yarn eslint --fix {staged_files}
        ã¾ãŸã¯: ./scripts/auto-fix.sh
        
        ğŸ¤– Code Reviewerã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§è‡ªå‹•ä¿®æ­£:
        claude "/code-reviewer"

    typecheck:
      run: yarn tsc
      fail_text: |
        å‹ã‚¨ãƒ©ãƒ¼ãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸã€‚
        Claude Codeã«ä¿®æ­£ã‚’ä¾é ¼ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚
        æ‰‹å‹•ä¿®æ­£å¾Œ: yarn tsc
        
        ğŸ¤– Code Reviewerã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§è‡ªå‹•ä¿®æ­£:
        claude "/code-reviewer"

    test:
      run: yarn test --passWithNoTests
      fail_text: |
        ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ã¾ã—ãŸã€‚
        è©³ç´°ã‚’ç¢ºèªã—ã¦ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚

pre-push:
  parallel: false
  commands:
    build:
      run: yarn build
      fail_text: |
        ãƒ“ãƒ«ãƒ‰ãŒå¤±æ•—ã—ã¾ã—ãŸã€‚
        ã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£ã—ã¦ã‹ã‚‰å†åº¦ãƒ—ãƒƒã‚·ãƒ¥ã—ã¦ãã ã•ã„ã€‚
